! VLAN Subinterfaces and DHCP for Floor 2
R2(config)#int gig0/0.30
R2(config-subif)#encapsulation dot1Q 30
R2(config-subif)#ip address 192.168.3.1 255.255.255.0
R2(config-subif)#exit

R2(config)#int gig0/0.40
R2(config-subif)#encapsulation dot1Q 40
R2(config-subif)#ip address 192.168.4.1 255.255.255.0
R2(config-subif)#exit

R2(config)#int gig0/0.50
R2(config-subif)#encapsulation dot1Q 50
R2(config-subif)#ip address 192.168.5.1 255.255.255.0
R2(config-subif)#exit

! --- DHCP Configuration for Each VLAN

Router(config)#service dhcp
R2(config)#ip dhcp pool Sales
R2(dhcp-config)#network 192.168.3.0 255.255.255.0
R2(dhcp-config)#default-router 192.168.3.1
R2(dhcp-config)#dns-server 192.168.3.1
R2(dhcp-config)#exit

R2(config)#ip dhcp pool HR
R2(dhcp-config)#network 192.168.4.0 255.255.255.0
R2(dhcp-config)#default-router 192.168.4.1
R2(dhcp-config)#dns-server 192.168.4.1
R2(dhcp-config)#exit

R2(config)#ip dhcp pool Finance
R2(dhcp-config)#network 192.168.5.0 255.255.255.0
R2(dhcp-config)#default-router 192.168.5.1
R2(dhcp-config)#dns-server 192.168.5.1
R2(dhcp-config)#exit

! Exclusions
R2(config)#ip dhcp excluded-address 192.168.3.1
R2(config)#ip dhcp excluded-address 192.168.4.1
R2(config)#ip dhcp excluded-address 192.168.5.1
R2(config)#do wr
Building configuration...
[OK]
